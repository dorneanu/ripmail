{
  "id" : 1,
  "name" : "Self-Destructing Email Service",
  "description" : "The sofware architecture of the self-destructing email service",
  "lastModifiedDate" : "2023-10-17T09:26:27Z",
  "lastModifiedAgent" : "structurizr-javascript",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlIHsKICAvLyBTZWUgIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHJ1Y3R1cml6ci9kc2wvYmxvYi9tYXN0ZXIvZG9jcy9sYW5ndWFnZS1yZWZlcmVuY2UubWQjaWRlbnRpZmllci1zY29wZQogIC8vICFpZGVudGlmaWVycyBoaWVyYXJjaGljYWwKCiAgbmFtZSAiU2VsZi1EZXN0cnVjdGluZyBFbWFpbCBTZXJ2aWNlIgogIGRlc2NyaXB0aW9uICJUaGUgc29md2FyZSBhcmNoaXRlY3R1cmUgb2YgdGhlIHNlbGYtZGVzdHJ1Y3RpbmcgZW1haWwgc2VydmljZSIKCiAgbW9kZWwgewogICAgc2VuZGVyID0gcGVyc29uICJTZW5kZXIiICJTZW5kZXIgY3JlYXRlcyBzZWxmLWRlc3RydWN0aW5nIGVtYWlsIiB7CiAgICAgIHRhZ3MgIlNlbmRlciIKICAgIH0KICAgIHJlY2lwaWVudCA9IHBlcnNvbiAiUmVjaXBpZW50IiAiUmVjaXBpZW50IHJlY2VpdmVzIHNlbGYtZGVzdHJ1Y3RpbmcgZW1haWwiIHsKICAgICAgdGFncyAiUmVjaXBpZW50IgogICAgfQoKICAgIGdyb3VwICJTZWxmLURlc3RydWN0aW5nIEVtYWlsIFNlcnZpY2UiIHsKICAgICAgLy8gTG9nZ2luZyBrZWVwcyB0cmFjayBvZiBzZXZlcmFsIGV2ZW50cwogICAgICBsb2dnaW5nID0gc29mdHdhcmVzeXN0ZW0gIkxvZ2dpbmcgU3lzdGVtIiAiTG9ncyBzZXZlcmFsIGV2ZW50cyByZWxhdGVkIHRvIG1haWwgZ2VuZXJhdGlvbiIgewogICAgICAgIHRhZ3MgIlNlcnZpY2UgQVBJIgogICAgICB9IAogICAgICBzdG9yYWdlID0gc29mdHdhcmVzeXN0ZW0gIlN0b3JhZ2UgU3lzdGVtIiAiU3RvcmVzIGVuY3J5cHRlZCBtYWlsIGNvbnRlbnQiIHsKICAgICAgICB0YWdzICJEYXRhYmFzZSIKICAgICAgICBzdG9yYWdlQmFja2VuZCA9IGNvbnRhaW5lciAiU3RvcmFnZSBCYWNrZW5kIgogICAgICB9CgogICAgICBub3RpZmljYXRpb24gPSBzb2Z0d2FyZXN5c3RlbSAiTm90aWZpY2F0aW9uIFN5c3RlbSIgIlNlbmRzIG5vdGlmaWNhdGlvbiB0byByZWNpcGllbnQgdG8gdmlldyBlbWFpbCIgewogICAgICAgIHRhZ3MgIlN5c3RlbSIKCiAgICAgICAgLy8gLS0tIE5vdGlmaWNhdGlvbiBTZXJ2aWNlCiAgICAgICAgbm90aWZpY2F0aW9uU2VydmljZSA9IGdyb3VwICJOb3RpZmljYXRpb24gU2VydmljZSIgewogICAgICAgICAgbm90aWZpY2F0aW9uQVBJID0gY29udGFpbmVyICJOb3RpZmljYXRpb24gQVBJIiB7CiAgICAgICAgICAgIHRhZ3MgIk5vdGlmaWNhdGlvblNlcnZpY2UiICJTZXJ2aWNlIEFQSSIKICAgICAgICAgIH0gCiAgICAgICAgfSAgCiAgICAgIH0KCgogICAgICAvLyBCYWNrZW5kIHN5c3RlbSByZXNwb25zaWJsZSBmb3IgdGhlIGJ1c2luZXNzIGxvZ2ljCiAgICAgIGJhY2tlbmQgPSBzb2Z0d2FyZXN5c3RlbSAiQmFja2VuZCBTeXN0ZW0iICJDb250YWlucyBsb2dpYyBob3cgc2VsZi1kZXN0cnVjdGluZyBtYWlscyBzaG91bGQgYmUgY3JlYXRlZCBhbmQgZGlzcGF0Y2hlZCB0byB0aGUgcmVjaXBpZW50LiIgewogICAgICAgIHRhZ3MgIkJhY2tlbmRTeXN0ZW0iCiAgICAgICAgd2ViYXBwbGljYXRpb24gPSBjb250YWluZXIgIldlYiBBcHBsaWNhdGlvbiIKCiAgICAgICAgLy8gU2VydmljZXMvCiAgICAgICAgLy8gLS0tIEF1dGhlbnRpY2F0aW9uIFNlcnZpY2UKICAgICAgICBhdXRoU2VydmljZSA9IGdyb3VwICJBdXRoZW50aWNhdGlvbiBTZXJ2aWNlIiB7CiAgICAgICAgICBhdXRoQVBJID0gY29udGFpbmVyICJBdXRoIFNlcnZpY2UgQVBJIiB7CiAgICAgICAgICAgIHRhZ3MgIkF1dGhTZXJ2aWNlIiAiU2VydmljZSBBUEkiCiAgICAgICAgICB9CiAgICAgICAgICBhdXRoREIgPSBjb250YWluZXIgIkF1dGggU2VydmljZSBEYXRhYmFzZSIgewogICAgICAgICAgICB0YWdzICJBdXRoU2VydmljZSIgIkRhdGFiYXNlIgogICAgICAgICAgICBhdXRoQVBJIC0+IHRoaXMgIkNoZWNrcyBpZiBjcmVkZW50aWFscyBtYXRjaCIKICAgICAgICAgIH0KICAgICAgICB9IAoKCiAgICAgICAgLy8gLS0tIEVtYWlsIENvbXBvc2l0aW9uIFNlcnZpY2UKICAgICAgICBtYWlsQ29tcG9zaXRpb25TZXJ2aWNlID0gZ3JvdXAgIkVtYWlsIENvbXBvc2l0aW9uIFNlcnZpY2UiIHsKICAgICAgICAgIG1haWxDb21wb3NpdGlvbkFQSSA9IGNvbnRhaW5lciAiRW1haWwgQ29tcG9zaXRpb24gQVBJIiB7CiAgICAgICAgICAgIHRhZ3MgIkVtYWlsQ29tcG9zaXRpb25TZXJ2aWNlIiAiU2VydmljZSBBUEkiCiAgICAgICAgICB9CiAgICAgICAgICBtYWlsREIgPSBjb250YWluZXIgIkVtYWlsIENvbXBvc2l0aW9uIERhdGFiYXNlIiB7CiAgICAgICAgICAgIHRhZ3MgIkVtYWlsY29tcG9zaXRpb25zZXJ2aWNlIiAiRGF0YWJhc2UiCiAgICAgICAgICAgIG1haWxDb21wb3NpdGlvbkFQSSAtPiB0aGlzICJTdG9yZXMgbWV0YWRhdGEgb2YgbWFpbHMiCiAgICAgICAgICB9CgogICAgICAgIH0KCiAgICAgICAgLy8gLS0tIEVtYWlsIENvbXBvc2l0aW9uIFNlcnZpY2UKICAgICAgICB2aWV3RW1haWxTZXJ2aWNlID0gZ3JvdXAgIlZpZXcgRW1haWwgU2VydmljZSIgewogICAgICAgICAgdmlld0VtYWlsRnJvbnRlbmQgPSBjb250YWluZXIgIkVtYWlsIFZpZXcgRnJvbnRlbmQiIHsKICAgICAgICAgICAgdGFncyAiVmlld0VtYWlsU2VydmljZSIgCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBTdG9yZSBtYWlsIGRhdGEgYW5kIGVuY3J5cHRlZCBjb250ZW50CiAgICAgICAgbWFpbENvbXBvc2l0aW9uQVBJIC0+IHN0b3JhZ2UgIlN0b3JlIG1haWwgbWV0YWRhdGEgYW5kIGNvbnRlbnQiCgogICAgICAgIC8vIE5vdGlmeSByZWNpcGllbnQKICAgICAgICBtYWlsQ29tcG9zaXRpb25BUEkgLT4gbm90aWZpY2F0aW9uQVBJICJOb3RpZnkgcmVjaXBpZW50IgogICAgICAgIG5vdGlmaWNhdGlvbkFQSSAtPiBtYWlsY29tcG9zaXRpb25BUEkgIlJlY2lwaWVudCBub3RpZmllZCIKCiAgICAgICAgLy8gTG9nIGV2ZW50cwogICAgICAgIG5vdGlmaWNhdGlvbkFQSSAtPiBsb2dnaW5nICJMb2cgRW1haWwgc2VudCBldmVudCIKCiAgICAgICAgLy8gU2VuZGVyIGNyZWF0ZXMgbmV3IGVtYWlsIAogICAgICAgIHNlbmRlciAtPiB3ZWJhcHBsaWNhdGlvbiAiQ3JlYXRlIG5ldyBtYWlsIgogICAgICAgIHdlYmFwcGxpY2F0aW9uIC0+IGF1dGhBUEkgIkF1dGhlbnRpY2F0ZSB1c2VyIgogICAgICAgIHdlYmFwcGxpY2F0aW9uIC0+IG1haWxDb21wb3NpdGlvbkFQSSAiQ3JlYXRlIG1haWxzIgogICAgICAgIG5vdGlmaWNhdGlvbiAtPiByZWNpcGllbnQgIlNlbmQgb3V0IG5vdGlmaWNhdGlvbiIKICAgICAgICBiYWNrZW5kIC0+IGxvZ2dpbmcgIkNyZWF0ZSBldmVudHMiCgogICAgICAgIC8vIFJlY2lwaWVudCByZWNlaXZlcyBuZXcgbWFpbAogICAgICAgIHJlY2lwaWVudCAtPiB3ZWJhcHBsaWNhdGlvbiAiVmlldyBzZWxmLWRlc3RydWN0aW5nIG1haWwiCiAgICAgICAgd2ViYXBwbGljYXRpb24gLT4gdmlld0VtYWlsRnJvbnRlbmQgIlZpZXcgZW1haWwiCiAgICAgICAgdmlld0VtYWlsRnJvbnRlbmQgLT4gbWFpbERCIAogICAgICAgIHZpZXdFbWFpbEZyb250ZW5kIC0+IHN0b3JhZ2UKCgogICAgICB9ICAgICAgICAKICAgIH0KCiAgICAvLyBEZXBsb3ltZW50cwogICAgbGl2ZSA9IGRlcGxveW1lbnRFbnZpcm9ubWVudCAiTGl2ZSIgewogICAgICAvLyBBV1MKICAgICAgZGVwbG95bWVudE5vZGUgIkFtYXpvbiBXZWIgU2VydmljZXMiIHsKICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gQ2xvdWQiCgogICAgICAgIC8vIFdoaWNoIHJlZ2lvbgogICAgICAgIGRlcGxveW1lbnROb2RlICJldS1jZW50cmFsLTEiIHsKICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBSZWdpb24iCgogICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgLy8gT3JnYW5pemF0aW9uYWwgVW5pdDogRGV2T3BzCiAgICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiT1UtRGV2T3BzIiB7CiAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBBV1MgT3JnYW5pemF0aW9ucyBPcmdhbml6YXRpb25hbCBVbml0IgoKICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgImFjYy1kZXZvcHMtcHJvZCIgewogICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBBV1MgT3JnYW5pemF0aW9ucyBBY2NvdW50IgoKICAgICAgICAgICAgICB2cGNfbWFuYWdlbWVudCA9IGRlcGxveW1lbnROb2RlICJWUEMgKG1hbmFnZW1lbnQpIiB7CiAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gVlBDIFZpcnR1YWwgcHJpdmF0ZSBjbG91ZCBWUEMiCgogICAgICAgICAgICAgICAgZ2l0bGFiX3NlcnZlciA9IGluZnJhc3RydWN0dXJlTm9kZSAiR2l0bGFiIFNlcnZlciIgewogICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gRUMyIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgLy8gT3JnYW5pemF0aW9uYWwgVW5pdDogVGVjaAogICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgb3VfdGVjaCA9IGRlcGxveW1lbnROb2RlICJPVS1UZWNoIiB7CiAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBBV1MgT3JnYW5pemF0aW9ucyBPcmdhbml6YXRpb25hbCBVbml0IgoKICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgImFjYy10ZWNoLXByb2QiIHsKICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gQVdTIE9yZ2FuaXphdGlvbnMgQWNjb3VudCIKCiAgICAgICAgICAgICAgLy8gRUtTIGNvbnRyb2wgcGxhbmUKICAgICAgICAgICAgICBla3NfdnBjID0gZGVwbG95bWVudE5vZGUgIkVLUyBWUEMiIHsKICAgICAgICAgICAgICAgIHRhZ3MgPSAiQW1hem9uIFdlYiBTZXJ2aWNlcyAtIFZQQyBWaXJ0dWFsIHByaXZhdGUgY2xvdWQgVlBDIgoKICAgICAgICAgICAgICAgIGVrc19jb250cm9sX3BsYW5lID0gaW5mcmFzdHJ1Y3R1cmVOb2RlICJFS1MgQ29udHJvbCBQbGFuZSIgewogICAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBFS1MgQ2xvdWQiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBFQ1IKICAgICAgICAgICAgICBlY3IgPSBpbmZyYXN0cnVjdHVyZU5vZGUgIkVDUiIgewogICAgICAgICAgICAgICAgdGFncyAiQW1hem9uIFdlYiBTZXJ2aWNlcyAtIEVsYXN0aWMgQ29udGFpbmVyIFJlZ2lzdHJ5IgogICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gIlByaXZhdGUgRUNSIHJlZ2lzdHJ5IgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8gRUtTIGNsdXN0ZXIKICAgICAgICAgICAgICB3b3JrbG9hZF92cGMgPSBkZXBsb3ltZW50Tm9kZSAiV29ya2xvYWQgVlBDIiB7CiAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBWUEMgVmlydHVhbCBwcml2YXRlIGNsb3VkIFZQQyIKCiAgICAgICAgICAgICAgICAvLyBBWiAxCiAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiQXZhaWxhYmlsaXR5IFpvbmUgMSIgewogICAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBSZWdpb24iCgogICAgICAgICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiU3VibmV0IDEiIHsKICAgICAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBWUEMgVlBOIEdhdGV3YXkiCgogICAgICAgICAgICAgICAgICAgIGVrc19ub2RlX2dyb3VwMSA9IGRlcGxveW1lbnROb2RlICJFS1MgTWFuYWdlZCBOb2RlIEdyb3VwIiB7CiAgICAgICAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBFS1MgQ2xvdWQiCgogICAgICAgICAgICAgICAgICAgICAgZWtzX25vZGVfZ3JvdXAxX3BvZDEgPSBkZXBsb3ltZW50Tm9kZSAiUG9kIDEiIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGFncyA9ICJLdWJlcm5ldGVzIC0gcG9kIgogICAgICAgICAgICAgICAgICAgICAgICBwb2QxX2F1dGhBUEkgPSBjb250YWluZXJJbnN0YW5jZSBhdXRoQVBJCiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgZWtzX25vZGVfZ3JvdXAxX3BvZDIgPSBkZXBsb3ltZW50Tm9kZSAiUG9kIDIiIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGFncyA9ICJLdWJlcm5ldGVzIC0gcG9kIgogICAgICAgICAgICAgICAgICAgICAgICBwb2QyX21haWxDb21wb3NpdGlvbkFQSSA9IGNvbnRhaW5lckluc3RhbmNlIG1haWxjb21wb3NpdGlvbkFQSQogICAgICAgICAgICAgICAgICAgICAgICBwb2QyX25vdGlmaWNhdGlvbkFQSSA9IGNvbnRhaW5lckluc3RhbmNlIG5vdGlmaWNhdGlvbkFQSQoKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEFaIDIKICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJBdmFpbGFiaWxpdHkgWm9uZSAyIiB7CiAgICAgICAgICAgICAgICAgIHRhZ3MgPSAiQW1hem9uIFdlYiBTZXJ2aWNlcyAtIFJlZ2lvbiIKCiAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJTdWJuZXQgMSIgewogICAgICAgICAgICAgICAgICAgIHRhZ3MgPSAiQW1hem9uIFdlYiBTZXJ2aWNlcyAtIFZQQyBWUE4gR2F0ZXdheSIKCiAgICAgICAgICAgICAgICAgICAgZWtzX25vZGVfZ3JvdXAyID0gaW5mcmFzdHJ1Y3R1cmVOb2RlICJFS1MgTWFuYWdlZCBOb2RlIEdyb3VwIiB7CiAgICAgICAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBFS1MgQ2xvdWQiCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgLy8gRHluYW1vREIgaW5zdGFuY2VzCiAgICAgICAgICAgICAgZGJzID0gZ3JvdXAgIkRhdGFiYXNlcyIgewogICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkRCIFZQQyIgewogICAgICAgICAgICAgICAgICB0YWdzID0gIkFtYXpvbiBXZWIgU2VydmljZXMgLSBWUEMgVmlydHVhbCBwcml2YXRlIGNsb3VkIFZQQyIKCiAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJEeW5hbW9EQiAoQXV0aCkiIHsKICAgICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gRHluYW1vREIiCgogICAgICAgICAgICAgICAgICAgIGxpdmVVc2VyREIgPSBjb250YWluZXJJbnN0YW5jZSBhdXRoREIKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgZGVwbG95bWVudE5vZGUgIkR5bmFtb0RCIChNYWlscykiIHsKICAgICAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gRHluYW1vREIiCgogICAgICAgICAgICAgICAgICAgIGxpdmVNYWlsREIgPSBjb250YWluZXJJbnN0YW5jZSBtYWlsREIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgLy8gUzMgKFN0b3JhZ2UgU3lzdGVtKQogICAgICAgICAgICAgIHMzX3N0b3JhZ2UgPSBpbmZyYXN0cnVjdHVyZU5vZGUgIlMzIEJ1Y2tldCAoc3RvcmFnZSkiIHsKICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBTaW1wbGUgU3RvcmFnZSBTZXJ2aWNlIgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBSZWxhdGlvbnNoaXBzCiAgICAgICAgICAjIHBvZDFfYXV0aEFQSSAtPiBsaXZlVXNlckRCIAogICAgICAgICAgIyBwb2QxX2F1dGhBUEkgLT4gbGl2ZU1haWxEQgoKICAgICAgICAgIGVrc19jb250cm9sX3BsYW5lIC0+IGVrc19ub2RlX2dyb3VwMSAiQ29udHJvbHMiCiAgICAgICAgICBla3NfY29udHJvbF9wbGFuZSAtPiBla3Nfbm9kZV9ncm91cDIgIkNvbnRyb2xzIgoKCiAgICAgICAgICAvLyAtLSBEZXBsb3ltZW50cwogICAgICAgICAgZ2l0bGFiX3NlcnZlciAtPiBlY3IgIlB1c2ggRG9ja2VyIGltYWdlcyIKICAgICAgICAgIGVrc19jb250cm9sX3BsYW5lIC0+IGVjciAiUHVsbHMgaW1hZ2VzIgoKCiAgICAgICAgICAvLyBTdG9yZSBlbmNyeXB0ZWQgY29udGVudAogICAgICAgICAgcG9kMl9tYWlsQ29tcG9zaXRpb25BUEkgLT4gczNfc3RvcmFnZSAiU3RvcmUgZW5jcnlwdGVkIG1haWwiCgogICAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgLy8gT3JnYW5pemF0aW9uYWwgVW5pdDogU2VjdXJpdHkKICAgICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICAgIGRlcGxveW1lbnROb2RlICJPVS1TZWN1cml0eSIgewogICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gQVdTIE9yZ2FuaXphdGlvbnMgT3JnYW5pemF0aW9uYWwgVW5pdCIKCiAgICAgICAgICAgIGRlcGxveW1lbnROb2RlICJhY2Mtc2VjdXJpdHktbG9nZ2luZyIgewogICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBBV1MgT3JnYW5pemF0aW9ucyBBY2NvdW50IgoKICAgICAgICAgICAgICBzM19sb2dnaW5nID0gaW5mcmFzdHJ1Y3R1cmVOb2RlICJTMyBCdWNrZXQiIHsKICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBTaW1wbGUgU3RvcmFnZSBTZXJ2aWNlIgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaW5mcmFzdHJ1Y3R1cmVOb2RlICJDbG91ZFdhdGNoIExvZ3MiIHsKICAgICAgICAgICAgICAgIHRhZ3MgIkFtYXpvbiBXZWIgU2VydmljZXMgLSBDbG91ZFdhdGNoIExvZ3MiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBkZXBsb3ltZW50Tm9kZSAiYWNjLXNlY3VyaXR5LW1vbml0b3JpbmciIHsKICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gQVdTIE9yZ2FuaXphdGlvbnMgQWNjb3VudCIKCiAgICAgICAgICAgICAgaW5mcmFzdHJ1Y3R1cmVOb2RlICJDbG91ZFdhdGNoIiB7CiAgICAgICAgICAgICAgICB0YWdzICJBbWF6b24gV2ViIFNlcnZpY2VzIC0gQ2xvdWRXYXRjaCBBbGFybSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9ICAKICAgICAgfQogICAgfQogIH0KCiAgdmlld3MgewogICAgLy8gU3lzdGVtIExhbmRzY2FwZQogICAgc3lzdGVtbGFuZHNjYXBlICJTeXN0ZW1MYW5kc2NhcGUiIHsKICAgICAgaW5jbHVkZSAqCiAgICAgICMgYXV0b0xheW91dAogICAgfQoKICAgIC8vIC0tIENvbnRhaW5lcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIC8vIEJhY2tlbmQKICAgIGNvbnRhaW5lciBiYWNrZW5kICJDb250YWluZXJzX0FsbCIgewogICAgICBpbmNsdWRlICoKICAgICAgIyBhdXRvbGF5b3V0CiAgICB9CiAgICAvLyAtLS0gQXV0aGVudGljYXRpb24gU2VydmljZSAKICAgIGNvbnRhaW5lciBiYWNrZW5kICJDb250YWluZXJzX0F1dGhlbnRpY2F0aW9uU2VydmljZSIgewogICAgICBpbmNsdWRlIC0+YXV0aFNlcnZpY2UtPgogICAgICBhdXRvbGF5b3V0CiAgICB9CiAgICAvLyAtLS0gTm90aWZpY2F0aW9uIFNlcnZpY2UgCiAgICBjb250YWluZXIgYmFja2VuZCAiQ29udGFpbmVyc19Ob3RpZmljYXRpb25TZXJ2aWNlIiB7CiAgICAgIGluY2x1ZGUgLT5ub3RpZmljYXRpb25TZXJ2aWNlLT4KICAgICAgYXV0b2xheW91dAogICAgfQogICAgIyAvLyAtLS0gRW1haWwgQ29tcG9zaXRpb24gU2VydmljZSAKICAgIGNvbnRhaW5lciBiYWNrZW5kICJDb250YWluZXJzX01haWxDb21wb3NpdGlvblNlcnZpY2UiIHsKICAgICAgaW5jbHVkZSAtPm1haWxDb21wb3NpdGlvblNlcnZpY2UtPgogICAgICBhdXRvbGF5b3V0CiAgICB9CgogICAgLy8gQ29udGFpbmVyIGNvbnRleHQKICAgICMgY29udGFpbmVyIHMgIkNvbnRhaW5lcnMiIHsKICAgICMgICBpbmNsdWRlICoKICAgICMgICBkZXNjcmlwdGlvbiAiVGhlIGNvbnRhaW5lciBkaWFncmFtIGZvciB0aGUgc2VsZi1kZXN0cnVjdGluZyBtYWlsIHNlcnZpY2UiCiAgICAjIH0KCiAgICAvLyBXb3JrbG9hZCBsaXZlCiAgICBkZXBsb3ltZW50IGJhY2tlbmQgbGl2ZSAiV29ya2xvYWREZXBsb3ltZW50IiB7CiAgICAgIGluY2x1ZGUgLT5vdV90ZWNoLT4KICAgICAgZGVzY3JpcHRpb24gIkRlcGxveW1lbnQgb2YgdGhlIHdvcmtsb2FkIgogICAgfQoKICAgIC8vIERlcGxveW1lbnQgbGl2ZQogICAgZGVwbG95bWVudCBiYWNrZW5kIGxpdmUgIkxpdmVEZXBsb3ltZW50IiAgewogICAgICBpbmNsdWRlICoKICAgICAgLy8gYXV0b0xheW91dCBscgogICAgICBkZXNjcmlwdGlvbiAiQW4gZXhhbXBsZSBsaXZlIGRlcGxveW1lbnQgZm9yIHRoZSBzZWxmLWRlc3RydWN0aW5nIGVtYWlsIHNlcnZpY2UiCiAgICB9CgoKICAgIC8vIFRoZW1lcwogICAgLy8gWW91IGNhbiBjb21iaW5lIG11bHRpcGxlIHRoZW1lcyEKICAgIHRoZW1lIGh0dHBzOi8vc3RhdGljLnN0cnVjdHVyaXpyLmNvbS90aGVtZXMvYW1hem9uLXdlYi1zZXJ2aWNlcy0yMDIzLjAxLjMxL3RoZW1lLmpzb24KICAgIHRoZW1lIGh0dHBzOi8vc3RhdGljLnN0cnVjdHVyaXpyLmNvbS90aGVtZXMva3ViZXJuZXRlcy12MC4zL3RoZW1lLmpzb24KCiAgICAvLyBFeHRyYSBTdHlsaW5nCiAgICBzdHlsZXMgewogICAgICBlbGVtZW50ICJQZXJzb24iIHsKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgICAgZm9udFNpemUgMjIKICAgICAgICBzaGFwZSBQZXJzb24KICAgICAgfQogICAgICBlbGVtZW50ICJTZW5kZXIiIHsKICAgICAgICBjb2xvciAjZmZmZmZmCiAgICAgICAgYmFja2dyb3VuZCAjOEZCNUZFCiAgICAgICAgc2hhcGUgUGVyc29uCiAgICAgIH0KICAgICAgZWxlbWVudCAiUmVjaXBpZW50IiB7CiAgICAgICAgY29sb3IgI2ZmZmZmZgogICAgICAgIGJhY2tncm91bmQgI0U5NzQ1MQogICAgICAgIHNoYXBlIFBlcnNvbgogICAgICB9CiAgICAgIGVsZW1lbnQgIlNlcnZpY2UgQVBJIiB7CiAgICAgICAgc2hhcGUgaGV4YWdvbgogICAgICB9CiAgICAgIGVsZW1lbnQgIkRhdGFiYXNlIiB7CiAgICAgICAgc2hhcGUgY3lsaW5kZXIKICAgICAgfQogICAgICBlbGVtZW50ICJCYWNrZW5kU3lzdGVtIiB7CiAgICAgICAgYmFja2dyb3VuZCAjRDNEM0QzCiAgICAgIH0KICAgIH0KCiAgfQp9Cg=="
  },
  "configuration" : { },
  "model" : {
    "people" : [ {
      "id" : "1",
      "tags" : "Element,Person,Sender",
      "properties" : {
        "structurizr.dsl.identifier" : "sender"
      },
      "name" : "Sender",
      "description" : "Sender creates self-destructing email",
      "relationships" : [ {
        "id" : "29",
        "tags" : "Relationship",
        "properties" : {
          "structurizr.dsl.identifier" : "81d8b579-57ed-43d0-9f2c-6cdbaae41a4f"
        },
        "sourceId" : "1",
        "destinationId" : "9",
        "description" : "Create new mail"
      }, {
        "id" : "30",
        "sourceId" : "1",
        "destinationId" : "8",
        "description" : "Create new mail",
        "linkedRelationshipId" : "29"
      } ],
      "location" : "Unspecified"
    }, {
      "id" : "2",
      "tags" : "Element,Person,Recipient",
      "properties" : {
        "structurizr.dsl.identifier" : "recipient"
      },
      "name" : "Recipient",
      "description" : "Recipient receives self-destructing email",
      "relationships" : [ {
        "id" : "36",
        "sourceId" : "2",
        "destinationId" : "8",
        "description" : "View self-destructing mail",
        "linkedRelationshipId" : "35"
      }, {
        "id" : "35",
        "tags" : "Relationship",
        "properties" : {
          "structurizr.dsl.identifier" : "35202d12-bdf6-4bcb-acd3-5d8feb79d3c0"
        },
        "sourceId" : "2",
        "destinationId" : "9",
        "description" : "View self-destructing mail"
      } ],
      "location" : "Unspecified"
    } ],
    "softwareSystems" : [ {
      "id" : "8",
      "tags" : "Element,Software System,BackendSystem",
      "properties" : {
        "structurizr.dsl.identifier" : "backend"
      },
      "name" : "Backend System",
      "description" : "Contains logic how self-destructing mails should be created and dispatched to the recipient.",
      "relationships" : [ {
        "id" : "34",
        "tags" : "Relationship",
        "properties" : {
          "structurizr.dsl.identifier" : "53891fa6-8cc7-4c7d-8ba9-e9d20e5b440e"
        },
        "sourceId" : "8",
        "destinationId" : "3",
        "description" : "Create events"
      }, {
        "id" : "21",
        "sourceId" : "8",
        "destinationId" : "7",
        "description" : "Notify recipient",
        "linkedRelationshipId" : "19"
      }, {
        "id" : "18",
        "sourceId" : "8",
        "destinationId" : "4",
        "description" : "Store mail metadata and content",
        "linkedRelationshipId" : "17"
      }, {
        "id" : "22",
        "sourceId" : "8",
        "destinationId" : "6",
        "description" : "Notify recipient",
        "linkedRelationshipId" : "19"
      } ],
      "group" : "Self-Destructing Email Service",
      "location" : "Unspecified",
      "containers" : [ {
        "id" : "9",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "webapplication"
        },
        "name" : "Web Application",
        "relationships" : [ {
          "id" : "31",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "279e4cf1-114b-42ad-977f-d0443bd83bfd"
          },
          "sourceId" : "9",
          "destinationId" : "10",
          "description" : "Authenticate user"
        }, {
          "id" : "32",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "b75ccf24-e855-46bc-86c5-3f72071d7bb8"
          },
          "sourceId" : "9",
          "destinationId" : "13",
          "description" : "Create mails"
        }, {
          "id" : "37",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "64ab5348-80db-488e-9b2c-7609343b3d43"
          },
          "sourceId" : "9",
          "destinationId" : "16",
          "description" : "View email"
        } ],
        "documentation" : { }
      }, {
        "id" : "11",
        "tags" : "Element,Container,AuthService,Database",
        "properties" : {
          "structurizr.dsl.identifier" : "authdb"
        },
        "name" : "Auth Service Database",
        "group" : "Authentication Service",
        "documentation" : { }
      }, {
        "id" : "16",
        "tags" : "Element,Container,ViewEmailService",
        "properties" : {
          "structurizr.dsl.identifier" : "viewemailfrontend"
        },
        "name" : "Email View Frontend",
        "relationships" : [ {
          "id" : "39",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "4636644b-3f1b-4faf-8ec9-33a7b3a41a66"
          },
          "sourceId" : "16",
          "destinationId" : "4"
        }, {
          "id" : "38",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "5177d6a6-feaa-4de0-9313-7c36f07bd460"
          },
          "sourceId" : "16",
          "destinationId" : "14"
        } ],
        "group" : "View Email Service",
        "documentation" : { }
      }, {
        "id" : "13",
        "tags" : "Element,Container,EmailCompositionService,Service API",
        "properties" : {
          "structurizr.dsl.identifier" : "mailcompositionapi"
        },
        "name" : "Email Composition API",
        "relationships" : [ {
          "id" : "17",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "dbd87d32-2263-4fda-9e9c-f281ada34af2"
          },
          "sourceId" : "13",
          "destinationId" : "4",
          "description" : "Store mail metadata and content"
        }, {
          "id" : "15",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "3f56df46-2154-4f0b-b055-4f889624535e"
          },
          "sourceId" : "13",
          "destinationId" : "14",
          "description" : "Stores metadata of mails"
        }, {
          "id" : "20",
          "sourceId" : "13",
          "destinationId" : "6",
          "description" : "Notify recipient",
          "linkedRelationshipId" : "19"
        }, {
          "id" : "19",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "c8f9336b-0d1a-412d-aa9e-b8837ffb27a7"
          },
          "sourceId" : "13",
          "destinationId" : "7",
          "description" : "Notify recipient"
        } ],
        "group" : "Email Composition Service",
        "documentation" : { }
      }, {
        "id" : "14",
        "tags" : "Element,Container,Emailcompositionservice,Database",
        "properties" : {
          "structurizr.dsl.identifier" : "maildb"
        },
        "name" : "Email Composition Database",
        "group" : "Email Composition Service",
        "documentation" : { }
      }, {
        "id" : "10",
        "tags" : "Element,Container,AuthService,Service API",
        "properties" : {
          "structurizr.dsl.identifier" : "authapi"
        },
        "name" : "Auth Service API",
        "relationships" : [ {
          "id" : "12",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "1ba1a6aa-d217-49a7-8c88-f68c3c12cc89"
          },
          "sourceId" : "10",
          "destinationId" : "11",
          "description" : "Checks if credentials match"
        } ],
        "group" : "Authentication Service",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "6",
      "tags" : "Element,Software System,System",
      "properties" : {
        "structurizr.dsl.identifier" : "notification"
      },
      "name" : "Notification System",
      "description" : "Sends notification to recipient to view email",
      "relationships" : [ {
        "id" : "26",
        "sourceId" : "6",
        "destinationId" : "8",
        "description" : "Recipient notified",
        "linkedRelationshipId" : "23"
      }, {
        "id" : "25",
        "sourceId" : "6",
        "destinationId" : "13",
        "description" : "Recipient notified",
        "linkedRelationshipId" : "23"
      }, {
        "id" : "28",
        "sourceId" : "6",
        "destinationId" : "3",
        "description" : "Log Email sent event",
        "linkedRelationshipId" : "27"
      }, {
        "id" : "33",
        "tags" : "Relationship",
        "properties" : {
          "structurizr.dsl.identifier" : "93ce4d3a-581a-452c-994b-a324c0d4fd92"
        },
        "sourceId" : "6",
        "destinationId" : "2",
        "description" : "Send out notification"
      } ],
      "group" : "Self-Destructing Email Service",
      "location" : "Unspecified",
      "containers" : [ {
        "id" : "7",
        "tags" : "Element,Container,NotificationService,Service API",
        "properties" : {
          "structurizr.dsl.identifier" : "notificationapi"
        },
        "name" : "Notification API",
        "relationships" : [ {
          "id" : "23",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "d98071e7-2bf9-411c-8a37-ae391140fe59"
          },
          "sourceId" : "7",
          "destinationId" : "13",
          "description" : "Recipient notified"
        }, {
          "id" : "24",
          "sourceId" : "7",
          "destinationId" : "8",
          "description" : "Recipient notified",
          "linkedRelationshipId" : "23"
        }, {
          "id" : "27",
          "tags" : "Relationship",
          "properties" : {
            "structurizr.dsl.identifier" : "e6a3d632-e7b4-468e-8ae2-b8dd0382a738"
          },
          "sourceId" : "7",
          "destinationId" : "3",
          "description" : "Log Email sent event"
        } ],
        "group" : "Notification Service",
        "documentation" : { }
      } ],
      "documentation" : { }
    }, {
      "id" : "3",
      "tags" : "Element,Software System,Service API",
      "properties" : {
        "structurizr.dsl.identifier" : "logging"
      },
      "name" : "Logging System",
      "description" : "Logs several events related to mail generation",
      "group" : "Self-Destructing Email Service",
      "location" : "Unspecified",
      "documentation" : { }
    }, {
      "id" : "4",
      "tags" : "Element,Software System,Database",
      "properties" : {
        "structurizr.dsl.identifier" : "storage"
      },
      "name" : "Storage System",
      "description" : "Stores encrypted mail content",
      "group" : "Self-Destructing Email Service",
      "location" : "Unspecified",
      "containers" : [ {
        "id" : "5",
        "tags" : "Element,Container",
        "properties" : {
          "structurizr.dsl.identifier" : "storagebackend"
        },
        "name" : "Storage Backend",
        "documentation" : { }
      } ],
      "documentation" : { }
    } ],
    "deploymentNodes" : [ {
      "id" : "40",
      "tags" : "Element,Deployment Node,Amazon Web Services - Cloud",
      "properties" : {
        "structurizr.dsl.identifier" : "bde0ff91-eb20-4886-afa5-daf398260326"
      },
      "name" : "Amazon Web Services",
      "environment" : "Live",
      "instances" : "1",
      "children" : [ {
        "id" : "41",
        "tags" : "Element,Deployment Node,Amazon Web Services - Region",
        "properties" : {
          "structurizr.dsl.identifier" : "f1cf796c-ba99-4c6c-b2ff-bf6564b572d3"
        },
        "name" : "eu-central-1",
        "environment" : "Live",
        "instances" : "1",
        "children" : [ {
          "id" : "78",
          "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Organizational Unit",
          "properties" : {
            "structurizr.dsl.identifier" : "63442f45-3f4f-480b-a022-90d78f486efc"
          },
          "name" : "OU-Security",
          "environment" : "Live",
          "instances" : "1",
          "children" : [ {
            "id" : "79",
            "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Account",
            "properties" : {
              "structurizr.dsl.identifier" : "a8dc3c72-6106-40ad-91a2-3d1b0940870f"
            },
            "name" : "acc-security-logging",
            "environment" : "Live",
            "instances" : "1",
            "infrastructureNodes" : [ {
              "id" : "80",
              "tags" : "Element,Infrastructure Node,Amazon Web Services - Simple Storage Service",
              "properties" : {
                "structurizr.dsl.identifier" : "s3_logging"
              },
              "name" : "S3 Bucket",
              "environment" : "Live"
            }, {
              "id" : "81",
              "tags" : "Element,Infrastructure Node,Amazon Web Services - CloudWatch Logs",
              "properties" : {
                "structurizr.dsl.identifier" : "84da1744-a5e4-409d-b27b-adc0bf5b173f"
              },
              "name" : "CloudWatch Logs",
              "environment" : "Live"
            } ]
          }, {
            "id" : "82",
            "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Account",
            "properties" : {
              "structurizr.dsl.identifier" : "adcb07fb-ad8d-4f6b-85e8-f4a63468e463"
            },
            "name" : "acc-security-monitoring",
            "environment" : "Live",
            "instances" : "1",
            "infrastructureNodes" : [ {
              "id" : "83",
              "tags" : "Element,Infrastructure Node,Amazon Web Services - CloudWatch Alarm",
              "properties" : {
                "structurizr.dsl.identifier" : "aa7d8413-5752-47be-8e70-37cca2dc3a1e"
              },
              "name" : "CloudWatch",
              "environment" : "Live"
            } ]
          } ]
        }, {
          "id" : "46",
          "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Organizational Unit",
          "properties" : {
            "structurizr.dsl.identifier" : "ou_tech"
          },
          "name" : "OU-Tech",
          "environment" : "Live",
          "instances" : "1",
          "children" : [ {
            "id" : "47",
            "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Account",
            "properties" : {
              "structurizr.dsl.identifier" : "b145adf1-31a2-4d22-8704-4d6c7035bfd3"
            },
            "name" : "acc-tech-prod",
            "environment" : "Live",
            "instances" : "1",
            "children" : [ {
              "id" : "48",
              "tags" : "Element,Deployment Node,=,Amazon Web Services - VPC Virtual private cloud VPC",
              "properties" : {
                "structurizr.dsl.identifier" : "eks_vpc"
              },
              "name" : "EKS VPC",
              "environment" : "Live",
              "instances" : "1",
              "infrastructureNodes" : [ {
                "id" : "49",
                "tags" : "Element,Infrastructure Node,=,Amazon Web Services - EKS Cloud",
                "properties" : {
                  "structurizr.dsl.identifier" : "eks_control_plane"
                },
                "name" : "EKS Control Plane",
                "relationships" : [ {
                  "id" : "76",
                  "tags" : "Relationship",
                  "properties" : {
                    "structurizr.dsl.identifier" : "e17fe798-c3df-4715-a3b3-926038c2ce1a"
                  },
                  "sourceId" : "49",
                  "destinationId" : "50",
                  "description" : "Pulls images"
                }, {
                  "id" : "74",
                  "tags" : "Relationship",
                  "properties" : {
                    "structurizr.dsl.identifier" : "59676c17-489b-43ef-a8a9-2161c513b3fe"
                  },
                  "sourceId" : "49",
                  "destinationId" : "64",
                  "description" : "Controls"
                }, {
                  "id" : "73",
                  "tags" : "Relationship",
                  "properties" : {
                    "structurizr.dsl.identifier" : "5b7b15d4-dc18-42ba-86fb-42946551f429"
                  },
                  "sourceId" : "49",
                  "destinationId" : "54",
                  "description" : "Controls"
                } ],
                "environment" : "Live"
              } ]
            }, {
              "id" : "65",
              "tags" : "Element,Deployment Node,=,Amazon Web Services - VPC Virtual private cloud VPC",
              "properties" : {
                "structurizr.dsl.identifier" : "27ca08a0-0e99-466f-a07b-b471bf84be6c"
              },
              "name" : "DB VPC",
              "group" : "Databases",
              "environment" : "Live",
              "instances" : "1",
              "children" : [ {
                "id" : "66",
                "tags" : "Element,Deployment Node,Amazon Web Services - DynamoDB",
                "properties" : {
                  "structurizr.dsl.identifier" : "ad455201-fa36-415e-a527-a3cf7935a7c0"
                },
                "name" : "DynamoDB (Auth)",
                "environment" : "Live",
                "instances" : "1",
                "containerInstances" : [ {
                  "id" : "67",
                  "tags" : "Container Instance",
                  "properties" : {
                    "structurizr.dsl.identifier" : "liveuserdb"
                  },
                  "environment" : "Live",
                  "deploymentGroups" : [ "Default" ],
                  "instanceId" : 1,
                  "containerId" : "11"
                } ]
              }, {
                "id" : "69",
                "tags" : "Element,Deployment Node,Amazon Web Services - DynamoDB",
                "properties" : {
                  "structurizr.dsl.identifier" : "ca55ffbb-ce71-49a0-a107-caa856911774"
                },
                "name" : "DynamoDB (Mails)",
                "environment" : "Live",
                "instances" : "1",
                "containerInstances" : [ {
                  "id" : "70",
                  "tags" : "Container Instance",
                  "properties" : {
                    "structurizr.dsl.identifier" : "livemaildb"
                  },
                  "environment" : "Live",
                  "deploymentGroups" : [ "Default" ],
                  "instanceId" : 1,
                  "containerId" : "14"
                } ]
              } ]
            }, {
              "id" : "51",
              "tags" : "Element,Deployment Node,=,Amazon Web Services - VPC Virtual private cloud VPC",
              "properties" : {
                "structurizr.dsl.identifier" : "workload_vpc"
              },
              "name" : "Workload VPC",
              "environment" : "Live",
              "instances" : "1",
              "children" : [ {
                "id" : "52",
                "tags" : "Element,Deployment Node,=,Amazon Web Services - Region",
                "properties" : {
                  "structurizr.dsl.identifier" : "3b3f2b36-f44f-4536-843f-2450fca9600f"
                },
                "name" : "Availability Zone 1",
                "environment" : "Live",
                "instances" : "1",
                "children" : [ {
                  "id" : "53",
                  "tags" : "Element,Deployment Node,=,Amazon Web Services - VPC VPN Gateway",
                  "properties" : {
                    "structurizr.dsl.identifier" : "01b19aea-12e2-418d-a4af-ea0d35243a7f"
                  },
                  "name" : "Subnet 1",
                  "environment" : "Live",
                  "instances" : "1",
                  "children" : [ {
                    "id" : "54",
                    "tags" : "Element,Deployment Node,=,Amazon Web Services - EKS Cloud",
                    "properties" : {
                      "structurizr.dsl.identifier" : "eks_node_group1"
                    },
                    "name" : "EKS Managed Node Group",
                    "environment" : "Live",
                    "instances" : "1",
                    "children" : [ {
                      "id" : "55",
                      "tags" : "Element,Deployment Node,=,Kubernetes - pod",
                      "properties" : {
                        "structurizr.dsl.identifier" : "eks_node_group1_pod1"
                      },
                      "name" : "Pod 1",
                      "environment" : "Live",
                      "instances" : "1",
                      "containerInstances" : [ {
                        "id" : "56",
                        "tags" : "Container Instance",
                        "properties" : {
                          "structurizr.dsl.identifier" : "pod1_authapi"
                        },
                        "relationships" : [ {
                          "id" : "68",
                          "sourceId" : "56",
                          "destinationId" : "67",
                          "description" : "Checks if credentials match",
                          "linkedRelationshipId" : "12"
                        } ],
                        "environment" : "Live",
                        "deploymentGroups" : [ "Default" ],
                        "instanceId" : 1,
                        "containerId" : "10"
                      } ]
                    }, {
                      "id" : "57",
                      "tags" : "Element,Deployment Node,=,Kubernetes - pod",
                      "properties" : {
                        "structurizr.dsl.identifier" : "eks_node_group1_pod2"
                      },
                      "name" : "Pod 2",
                      "environment" : "Live",
                      "instances" : "1",
                      "containerInstances" : [ {
                        "id" : "58",
                        "tags" : "Container Instance",
                        "properties" : {
                          "structurizr.dsl.identifier" : "pod2_mailcompositionapi"
                        },
                        "relationships" : [ {
                          "id" : "71",
                          "sourceId" : "58",
                          "destinationId" : "70",
                          "description" : "Stores metadata of mails",
                          "linkedRelationshipId" : "15"
                        }, {
                          "id" : "77",
                          "tags" : "Relationship",
                          "properties" : {
                            "structurizr.dsl.identifier" : "f85abd0a-15b2-44c3-990c-7906de1ed782"
                          },
                          "sourceId" : "58",
                          "destinationId" : "72",
                          "description" : "Store encrypted mail"
                        }, {
                          "id" : "61",
                          "sourceId" : "58",
                          "destinationId" : "59",
                          "description" : "Notify recipient",
                          "linkedRelationshipId" : "19"
                        } ],
                        "environment" : "Live",
                        "deploymentGroups" : [ "Default" ],
                        "instanceId" : 1,
                        "containerId" : "13"
                      }, {
                        "id" : "59",
                        "tags" : "Container Instance",
                        "properties" : {
                          "structurizr.dsl.identifier" : "pod2_notificationapi"
                        },
                        "relationships" : [ {
                          "id" : "60",
                          "sourceId" : "59",
                          "destinationId" : "58",
                          "description" : "Recipient notified",
                          "linkedRelationshipId" : "23"
                        } ],
                        "environment" : "Live",
                        "deploymentGroups" : [ "Default" ],
                        "instanceId" : 1,
                        "containerId" : "7"
                      } ]
                    } ]
                  } ]
                } ]
              }, {
                "id" : "62",
                "tags" : "Element,Deployment Node,=,Amazon Web Services - Region",
                "properties" : {
                  "structurizr.dsl.identifier" : "1c12d481-4ec1-4144-948b-a454d1d6294b"
                },
                "name" : "Availability Zone 2",
                "environment" : "Live",
                "instances" : "1",
                "children" : [ {
                  "id" : "63",
                  "tags" : "Element,Deployment Node,=,Amazon Web Services - VPC VPN Gateway",
                  "properties" : {
                    "structurizr.dsl.identifier" : "23e8eca3-4aff-4bca-b2c7-c74403ff3f84"
                  },
                  "name" : "Subnet 1",
                  "environment" : "Live",
                  "instances" : "1",
                  "infrastructureNodes" : [ {
                    "id" : "64",
                    "tags" : "Element,Infrastructure Node,=,Amazon Web Services - EKS Cloud",
                    "properties" : {
                      "structurizr.dsl.identifier" : "eks_node_group2"
                    },
                    "name" : "EKS Managed Node Group",
                    "environment" : "Live"
                  } ]
                } ]
              } ]
            } ],
            "infrastructureNodes" : [ {
              "id" : "50",
              "tags" : "Element,Infrastructure Node,Amazon Web Services - Elastic Container Registry",
              "properties" : {
                "structurizr.dsl.identifier" : "ecr"
              },
              "name" : "ECR",
              "description" : "Private ECR registry",
              "environment" : "Live"
            }, {
              "id" : "72",
              "tags" : "Element,Infrastructure Node,Amazon Web Services - Simple Storage Service",
              "properties" : {
                "structurizr.dsl.identifier" : "s3_storage"
              },
              "name" : "S3 Bucket (storage)",
              "environment" : "Live"
            } ]
          } ]
        }, {
          "id" : "42",
          "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Organizational Unit",
          "properties" : {
            "structurizr.dsl.identifier" : "d6d69f67-5a99-48b5-9447-b9418cfba0e9"
          },
          "name" : "OU-DevOps",
          "environment" : "Live",
          "instances" : "1",
          "children" : [ {
            "id" : "43",
            "tags" : "Element,Deployment Node,Amazon Web Services - AWS Organizations Account",
            "properties" : {
              "structurizr.dsl.identifier" : "9be0ddd2-7900-4e86-894e-f9dfa5b9581e"
            },
            "name" : "acc-devops-prod",
            "environment" : "Live",
            "instances" : "1",
            "children" : [ {
              "id" : "44",
              "tags" : "Element,Deployment Node,Amazon Web Services - VPC Virtual private cloud VPC",
              "properties" : {
                "structurizr.dsl.identifier" : "vpc_management"
              },
              "name" : "VPC (management)",
              "environment" : "Live",
              "instances" : "1",
              "infrastructureNodes" : [ {
                "id" : "45",
                "tags" : "Element,Infrastructure Node,Amazon Web Services - EC2",
                "properties" : {
                  "structurizr.dsl.identifier" : "gitlab_server"
                },
                "name" : "Gitlab Server",
                "relationships" : [ {
                  "id" : "75",
                  "tags" : "Relationship",
                  "properties" : {
                    "structurizr.dsl.identifier" : "9ec21e56-7e89-4479-a4e4-4ce7802bd761"
                  },
                  "sourceId" : "45",
                  "destinationId" : "50",
                  "description" : "Push Docker images"
                } ],
                "environment" : "Live"
              } ]
            } ]
          } ]
        } ]
      } ]
    } ]
  },
  "documentation" : { },
  "views" : {
    "systemLandscapeViews" : [ {
      "key" : "SystemLandscape",
      "order" : 1,
      "paperSize" : "A4_Landscape",
      "dimensions" : {
        "width" : 2833,
        "height" : 2308
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "1",
        "x" : 111,
        "y" : 119
      }, {
        "id" : "2",
        "x" : 2321,
        "y" : 149
      }, {
        "id" : "3",
        "x" : 1547,
        "y" : 1726
      }, {
        "id" : "4",
        "x" : 611,
        "y" : 1784
      }, {
        "id" : "6",
        "x" : 1342,
        "y" : 376
      }, {
        "id" : "8",
        "x" : 1031,
        "y" : 1079
      } ],
      "relationships" : [ {
        "id" : "18"
      }, {
        "id" : "28",
        "vertices" : [ {
          "x" : 1766,
          "y" : 874
        } ]
      }, {
        "id" : "26",
        "vertices" : [ {
          "x" : 1341,
          "y" : 839
        } ]
      }, {
        "id" : "36",
        "vertices" : [ {
          "x" : 2521,
          "y" : 1219
        }, {
          "x" : 1672,
          "y" : 1226
        } ]
      }, {
        "id" : "34"
      }, {
        "id" : "22",
        "vertices" : [ {
          "x" : 1541,
          "y" : 949
        } ]
      }, {
        "id" : "33"
      }, {
        "id" : "30",
        "vertices" : [ {
          "x" : 306,
          "y" : 1229
        } ]
      } ]
    } ],
    "containerViews" : [ {
      "key" : "Containers_AuthenticationService",
      "order" : 3,
      "softwareSystemId" : "8",
      "paperSize" : "A5_Portrait",
      "dimensions" : {
        "width" : 1316,
        "height" : 2262
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "11",
        "x" : 433,
        "y" : 1529
      }, {
        "id" : "9",
        "x" : 433,
        "y" : 329
      }, {
        "id" : "10",
        "x" : 433,
        "y" : 929
      } ],
      "relationships" : [ {
        "id" : "12"
      }, {
        "id" : "31"
      } ]
    }, {
      "key" : "Containers_All",
      "order" : 2,
      "softwareSystemId" : "8",
      "paperSize" : "A3_Landscape",
      "dimensions" : {
        "width" : 3395,
        "height" : 2925
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "11",
        "x" : 361,
        "y" : 2283
      }, {
        "id" : "1",
        "x" : 328,
        "y" : 185
      }, {
        "id" : "2",
        "x" : 2648,
        "y" : 175
      }, {
        "id" : "13",
        "x" : 973,
        "y" : 1635
      }, {
        "id" : "14",
        "x" : 973,
        "y" : 2285
      }, {
        "id" : "4",
        "x" : 2623,
        "y" : 2325
      }, {
        "id" : "16",
        "x" : 1583,
        "y" : 2285
      }, {
        "id" : "6",
        "x" : 2623,
        "y" : 1255
      }, {
        "id" : "9",
        "x" : 1578,
        "y" : 1050
      }, {
        "id" : "10",
        "x" : 361,
        "y" : 1633
      } ],
      "relationships" : [ {
        "id" : "32"
      }, {
        "id" : "20",
        "vertices" : [ {
          "x" : 1653,
          "y" : 1565
        }, {
          "x" : 2378,
          "y" : 1375
        } ]
      }, {
        "id" : "31",
        "vertices" : [ {
          "x" : 588,
          "y" : 1220
        } ]
      }, {
        "id" : "29"
      }, {
        "id" : "17",
        "vertices" : [ {
          "x" : 1707,
          "y" : 2037
        } ]
      }, {
        "id" : "37"
      }, {
        "id" : "15"
      }, {
        "id" : "25",
        "vertices" : [ {
          "x" : 2143,
          "y" : 1590
        } ]
      }, {
        "id" : "35"
      }, {
        "id" : "12"
      }, {
        "id" : "33"
      }, {
        "id" : "38"
      }, {
        "id" : "39"
      } ]
    }, {
      "key" : "Containers_MailCompositionService",
      "order" : 5,
      "softwareSystemId" : "8",
      "paperSize" : "A4_Landscape",
      "dimensions" : {
        "width" : 3383,
        "height" : 2262
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "13",
        "x" : 433,
        "y" : 929
      }, {
        "id" : "14",
        "x" : 433,
        "y" : 1529
      }, {
        "id" : "4",
        "x" : 2708,
        "y" : 1529
      }, {
        "id" : "16",
        "x" : 1195,
        "y" : 929
      }, {
        "id" : "6",
        "x" : 1958,
        "y" : 1529
      }, {
        "id" : "9",
        "x" : 812,
        "y" : 329
      } ],
      "relationships" : [ {
        "id" : "17",
        "vertices" : [ {
          "x" : 1016,
          "y" : 1333
        }, {
          "x" : 2558,
          "y" : 1529
        } ]
      }, {
        "id" : "15"
      }, {
        "id" : "37"
      }, {
        "id" : "25",
        "vertices" : [ {
          "x" : 1166,
          "y" : 1333
        } ]
      }, {
        "id" : "32"
      }, {
        "id" : "20",
        "vertices" : [ {
          "x" : 866,
          "y" : 1333
        } ]
      }, {
        "id" : "38"
      }, {
        "id" : "39"
      } ]
    }, {
      "key" : "Containers_NotificationService",
      "order" : 4,
      "softwareSystemId" : "8",
      "paperSize" : "A4_Portrait",
      "dimensions" : {
        "width" : 1837,
        "height" : 1916
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "externalSoftwareSystemBoundariesVisible" : true,
      "elements" : [ {
        "id" : "13",
        "x" : 971,
        "y" : 1183
      }, {
        "id" : "3",
        "x" : 208,
        "y" : 1183
      }, {
        "id" : "7",
        "x" : 592,
        "y" : 433
      } ],
      "relationships" : [ {
        "id" : "27"
      }, {
        "id" : "23"
      }, {
        "id" : "19"
      } ]
    } ],
    "deploymentViews" : [ {
      "key" : "WorkloadDeployment",
      "order" : 6,
      "description" : "Deployment of the workload",
      "softwareSystemId" : "8",
      "paperSize" : "A2_Landscape",
      "dimensions" : {
        "width" : 4508,
        "height" : 4125
      },
      "environment" : "Live",
      "elements" : [ {
        "id" : "66",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "67",
        "x" : 2895,
        "y" : 2870
      }, {
        "id" : "46",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "69",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "47",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "48",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "49",
        "x" : 1925,
        "y" : 745
      }, {
        "id" : "70",
        "x" : 2133,
        "y" : 2870
      }, {
        "id" : "72",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "50",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "51",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "52",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "53",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "54",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "55",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "56",
        "x" : 2895,
        "y" : 1704
      }, {
        "id" : "57",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "58",
        "x" : 2133,
        "y" : 1704
      }, {
        "id" : "62",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "40",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "63",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "41",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "64",
        "x" : 954,
        "y" : 1704
      }, {
        "id" : "65",
        "x" : 175,
        "y" : 175
      } ],
      "relationships" : [ {
        "id" : "71"
      }, {
        "id" : "74"
      }, {
        "id" : "73",
        "vertices" : [ {
          "x" : 2762,
          "y" : 1183
        } ]
      }, {
        "id" : "76"
      }, {
        "id" : "77"
      }, {
        "id" : "68"
      } ]
    }, {
      "key" : "LiveDeployment",
      "order" : 7,
      "description" : "An example live deployment for the self-destructing email service",
      "softwareSystemId" : "8",
      "dimensions" : {
        "width" : 7062,
        "height" : 3329
      },
      "environment" : "Live",
      "elements" : [ {
        "id" : "66",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "44",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "67",
        "x" : 4807,
        "y" : 2311
      }, {
        "id" : "45",
        "x" : 2010,
        "y" : 1635
      }, {
        "id" : "46",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "69",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "47",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "48",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "49",
        "x" : 3765,
        "y" : 198
      }, {
        "id" : "70",
        "x" : 4252,
        "y" : 2311
      }, {
        "id" : "72",
        "x" : 3460,
        "y" : 2260
      }, {
        "id" : "50",
        "x" : 2950,
        "y" : 2265
      }, {
        "id" : "51",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "52",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "53",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "54",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "55",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "56",
        "x" : 4797,
        "y" : 1106
      }, {
        "id" : "78",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "57",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "79",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "58",
        "x" : 4242,
        "y" : 1101
      }, {
        "id" : "80",
        "x" : 2190,
        "y" : 193
      }, {
        "id" : "81",
        "x" : 1715,
        "y" : 193
      }, {
        "id" : "82",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "83",
        "x" : 1715,
        "y" : 645
      }, {
        "id" : "62",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "40",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "63",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "41",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "64",
        "x" : 3672,
        "y" : 1061
      }, {
        "id" : "42",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "65",
        "x" : 175,
        "y" : 175
      }, {
        "id" : "43",
        "x" : 175,
        "y" : 175
      } ],
      "relationships" : [ {
        "id" : "71"
      }, {
        "id" : "74",
        "vertices" : [ {
          "x" : 3895,
          "y" : 733
        } ]
      }, {
        "id" : "73",
        "vertices" : [ {
          "x" : 4725,
          "y" : 355
        } ]
      }, {
        "id" : "76",
        "vertices" : [ {
          "x" : 3240,
          "y" : 685
        }, {
          "x" : 3235,
          "y" : 1995
        } ]
      }, {
        "id" : "75",
        "vertices" : [ {
          "x" : 2220,
          "y" : 2420
        } ]
      }, {
        "id" : "77",
        "vertices" : [ {
          "x" : 3990,
          "y" : 1665
        }, {
          "x" : 3965,
          "y" : 1855
        } ]
      }, {
        "id" : "68"
      } ]
    } ],
    "configuration" : {
      "branding" : { },
      "styles" : {
        "elements" : [ {
          "tag" : "Person",
          "color" : "#ffffff",
          "fontSize" : 22,
          "shape" : "Person"
        }, {
          "tag" : "Sender",
          "background" : "#8fb5fe",
          "color" : "#ffffff",
          "shape" : "Person"
        }, {
          "tag" : "Recipient",
          "background" : "#e97451",
          "color" : "#ffffff",
          "shape" : "Person"
        }, {
          "tag" : "Service API",
          "shape" : "Hexagon"
        }, {
          "tag" : "Database",
          "shape" : "Cylinder"
        }, {
          "tag" : "BackendSystem",
          "background" : "#d3d3d3"
        } ]
      },
      "themes" : [ "https://static.structurizr.com/themes/amazon-web-services-2023.01.31/theme.json", "https://static.structurizr.com/themes/kubernetes-v0.3/theme.json" ],
      "terminology" : { },
      "metadataSymbols" : "SquareBrackets",
      "lastSavedView" : "WorkloadDeployment"
    }
  }
}